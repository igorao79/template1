(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{778:(e,t,a)=>{"use strict";a.d(t,{AnimationProvider:()=>l,s:()=>s});var n=a(5155),c=a(2115);let r=(0,c.createContext)({loaderHidden:!1,observedElements:new Map,registerIntersection:()=>{}}),s=()=>(0,c.useContext)(r),l=e=>{let{children:t}=e,[a,s]=(0,c.useState)(!1),l=(0,c.useRef)(new Map),i=(0,c.useCallback)((e,t)=>{l.current.set(e,t)},[]);return(0,c.useEffect)(()=>{let e=()=>{s(!0)};window.addEventListener("loader-hidden",e);let t=setTimeout(()=>{s(!0)},4e3);return()=>{window.removeEventListener("loader-hidden",e),clearTimeout(t)}},[]),(0,n.jsx)(r.Provider,{value:{loaderHidden:a,observedElements:l.current,registerIntersection:i},children:t})}},2759:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.t.bind(a,2305,23)),Promise.resolve().then(a.t.bind(a,5966,23)),Promise.resolve().then(a.t.bind(a,2747,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,3887)),Promise.resolve().then(a.bind(a,6828)),Promise.resolve().then(a.bind(a,778)),Promise.resolve().then(a.bind(a,8088))},3887:(e,t,a)=>{"use strict";a.d(t,{default:()=>b});var n=a(5155),c=a(2115),r=a(6874),s=a.n(r),l=a(1978),i=a(4168),o=a.n(i),d=a(9911),m=a(8999),h=a(8088),u=a(8758),_=a.n(u);let v=()=>{let{openCart:e,totalItems:t}=(0,h._)();return(0,n.jsxs)("button",{className:_().cartButton,onClick:e,"aria-label":"Открыть корзину",children:[(0,n.jsx)(d.AsH,{size:20}),t>0&&(0,n.jsx)("span",{className:_().cartButton__count,children:t})]})},b=()=>{let[e,t]=(0,c.useState)(!1),[a,r]=(0,c.useState)(!1),[i,h]=(0,c.useState)("home");(0,m.usePathname)(),(0,c.useEffect)(()=>{t(window.scrollY>50);let e=()=>{let e=document.querySelectorAll("section[id]"),t="home";e.forEach(e=>{let a=e.getBoundingClientRect().top,n=e.getAttribute("id");a<=100&&n&&(t=n)}),h(t)};e();let a=()=>{t(window.scrollY>50),e()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);let u=()=>{r(!a)};return(0,n.jsxs)("header",{className:"".concat(o().header," ").concat(e?o()["header--scrolled"]:""),children:[(0,n.jsxs)("div",{className:"container ".concat(o().header__container),children:[(0,n.jsxs)(s(),{href:"/",className:o().header__logo,children:[(0,n.jsx)(l.P.div,{className:o()["header__logo-image"],initial:{rotate:0},animate:{rotate:360*!!e},transition:{duration:.5},children:(0,n.jsx)(d.DFm,{size:32,color:"#F5CB5C"})}),(0,n.jsx)("span",{className:o()["header__logo-text"],children:"СырАрт"})]}),(0,n.jsxs)("nav",{className:o().header__nav,children:[(0,n.jsx)(s(),{href:"#home",className:"".concat(o().header__link," ").concat("home"===i?o()["header__link--active"]:""),children:"Главная"}),(0,n.jsx)(s(),{href:"#about",className:"".concat(o().header__link," ").concat("about"===i?o()["header__link--active"]:""),children:"О нас"}),(0,n.jsx)(s(),{href:"#products",className:"".concat(o().header__link," ").concat("products"===i?o()["header__link--active"]:""),children:"Продукты"}),(0,n.jsx)(s(),{href:"#process",className:"".concat(o().header__link," ").concat("process"===i?o()["header__link--active"]:""),children:"Процесс"}),(0,n.jsx)(s(),{href:"#contact",className:"".concat(o().header__link," ").concat("contact"===i?o()["header__link--active"]:""),children:"Контакты"})]}),(0,n.jsxs)("div",{className:o().header__actions,children:[(0,n.jsx)("div",{className:o().header__cart,children:(0,n.jsx)(v,{})}),(0,n.jsx)(s(),{href:"#contact",className:"".concat(o().header__cta," ").concat(o().header__cta_desktop),children:"Заказать сейчас"}),(0,n.jsx)("button",{className:o().header__mobile_button,onClick:u,"aria-label":"Открыть мобильное меню",children:(0,n.jsx)(d.OXb,{size:24})})]})]}),(0,n.jsxs)("div",{className:"".concat(o()["mobile-menu"]," ").concat(a?o()["mobile-menu--open"]:""),children:[(0,n.jsx)("button",{className:o()["mobile-menu__close"],onClick:u,"aria-label":"Закрыть мобильное меню",children:(0,n.jsx)(d.QCr,{size:24})}),(0,n.jsxs)("nav",{className:o()["mobile-menu__nav"],children:[(0,n.jsx)(s(),{href:"#home",className:"".concat(o()["mobile-menu__link"]," ").concat("home"===i?o()["mobile-menu__link--active"]:""),onClick:u,children:"Главная"}),(0,n.jsx)(s(),{href:"#about",className:"".concat(o()["mobile-menu__link"]," ").concat("about"===i?o()["mobile-menu__link--active"]:""),onClick:u,children:"О нас"}),(0,n.jsx)(s(),{href:"#products",className:"".concat(o()["mobile-menu__link"]," ").concat("products"===i?o()["mobile-menu__link--active"]:""),onClick:u,children:"Продукты"}),(0,n.jsx)(s(),{href:"#process",className:"".concat(o()["mobile-menu__link"]," ").concat("process"===i?o()["mobile-menu__link--active"]:""),onClick:u,children:"Процесс"}),(0,n.jsx)(s(),{href:"#contact",className:"".concat(o()["mobile-menu__link"]," ").concat("contact"===i?o()["mobile-menu__link--active"]:""),onClick:u,children:"Контакты"})]}),(0,n.jsx)("div",{className:o()["mobile-menu__cart"],children:(0,n.jsx)(v,{})})]})]})}},6828:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var n=a(5155),c=a(2115),r=a(9175),s=a(5250),l=a.n(s);let i="/template1",o=()=>{let[e,t]=(0,c.useState)(!0),[a,s]=(0,c.useState)(!1),[o,d]=(0,c.useState)(null),[m,h]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(i,"/images/loader.lottie"));if(!e.ok)throw Error("Failed to load animation");let t=await e.blob(),a=URL.createObjectURL(t);d(a)}catch(e){console.error("Error preloading Lottie:",e),s(!0)}})()},[]),(0,c.useEffect)(()=>{let e=()=>{t(!1),window.dispatchEvent(new Event("loader-hidden"))};window.addEventListener("model-loaded",e);let a=setTimeout(()=>{t(!1),window.dispatchEvent(new Event("loader-hidden"))},600);return()=>{window.removeEventListener("model-loaded",e),clearTimeout(a)}},[]),(0,n.jsx)("div",{className:"".concat(l().loader," ").concat(e?l().visible:l().hidden),"aria-hidden":!e,children:(0,n.jsx)("div",{className:l().loaderContent,children:a?(0,n.jsxs)("div",{className:l().fallbackLoader,children:[(0,n.jsx)("div",{className:l().cheeseCircle}),(0,n.jsx)("div",{className:l().cheeseText,children:"Загрузка..."})]}):(0,n.jsxs)(n.Fragment,{children:[!m&&(0,n.jsxs)("div",{className:l().fallbackLoader,children:[(0,n.jsx)("div",{className:l().cheeseCircle}),(0,n.jsx)("div",{className:l().cheeseText,children:"Загрузка..."})]}),(0,n.jsx)("div",{style:{opacity:+!!m,transition:"opacity 0.3s"},children:(0,n.jsx)(r.GL,{src:o||"".concat(i,"/images/loader.lottie"),autoplay:!0,loop:!0,onError:()=>{console.error("Error loading Lottie animation"),s(!0)},onLoad:()=>{h(!0)}})})]})})})}},8088:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>l,_:()=>s});var n=a(5155),c=a(2115);let r=(0,c.createContext)({cartItems:[],isOpen:!1,openCart:()=>{},closeCart:()=>{},addToCart:()=>{},removeFromCart:()=>{},updateQuantity:()=>{},clearCart:()=>{},totalItems:0,totalPrice:0}),s=()=>(0,c.useContext)(r),l=e=>{let{children:t}=e,[a,s]=(0,c.useState)([]),[l,i]=(0,c.useState)(!1);(0,c.useEffect)(()=>{{let e=localStorage.getItem("cart");if(e)try{s(JSON.parse(e))}catch(e){console.error("Ошибка при загрузке корзины из localStorage:",e)}}},[]),(0,c.useEffect)(()=>{a.length>0&&localStorage.setItem("cart",JSON.stringify(a))},[a]),(0,c.useEffect)(()=>{let e=e=>{e instanceof CustomEvent&&(m(e.detail),o())};return document.addEventListener("add-to-cart",e),()=>{document.removeEventListener("add-to-cart",e)}},[]);let o=(0,c.useCallback)(()=>{i(!0)},[]),d=(0,c.useCallback)(()=>{i(!1)},[]),m=(0,c.useCallback)(e=>{s(t=>{let a=t.findIndex(t=>t.id===e.id);if(!(a>=0))return[...t,{...e,quantity:e.quantity||1}];{let n=[...t];return n[a]={...n[a],quantity:n[a].quantity+(e.quantity||1)},n}})},[]),h=(0,c.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]),u=(0,c.useCallback)((e,t)=>{if(t<=0)return void h(e);s(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},[h]),_=(0,c.useCallback)(()=>{s([]),localStorage.removeItem("cart")},[]),v=a.reduce((e,t)=>e+t.quantity,0),b=a.reduce((e,t)=>e+t.price*t.quantity,0);return(0,n.jsx)(r.Provider,{value:{cartItems:a,isOpen:l,openCart:o,closeCart:d,addToCart:m,removeFromCart:h,updateQuantity:u,clearCart:_,totalItems:v,totalPrice:b},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[869,711,429,534,441,684,358],()=>t(2759)),_N_E=e.O()}]);