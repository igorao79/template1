(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{778:(e,t,a)=>{"use strict";a.d(t,{AnimationProvider:()=>l,s:()=>n});var s=a(5155),i=a(2115);let c=(0,i.createContext)(void 0),l=e=>{let{children:t}=e,[a,l]=(0,i.useState)(!1),[n,r]=(0,i.useState)({});return(0,i.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},1500);return()=>clearTimeout(e)},[]),(0,s.jsx)(c.Provider,{value:{loaderHidden:a,sectionsInView:n,registerIntersection:(e,t)=>{r(a=>({...a,[e]:t}))}},children:t})},n=()=>{let e=(0,i.useContext)(c);if(void 0===e)throw Error("useAnimation must be used within an AnimationProvider");return e}},1128:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(5155),i=a(2115),c=a(9911),l=a(8088),n=a(5762),r=a.n(n);let o=()=>{let{isCartOpen:e,closeCart:t,cartItems:a,totalPrice:n,updateQuantity:o,removeFromCart:d,totalItems:m,openCheckout:h}=(0,l._)();(0,i.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&t()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[e,t]);let u=(e,t)=>{t>=1&&o(e,t)},_=e=>{d(e)};return e?(0,s.jsx)("div",{className:r().cart__overlay,onClick:t,children:(0,s.jsxs)("div",{className:r().cart__modal,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:r().cart__header,children:[(0,s.jsx)("h3",{className:r().cart__title,children:"Корзина"}),(0,s.jsx)("button",{className:r().cart__close,onClick:t,"aria-label":"Закрыть корзину",children:(0,s.jsx)(c.QCr,{size:18})})]}),(0,s.jsx)("div",{className:r().cart__content,children:a.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ul",{className:r().cart__items,children:a.map(e=>(0,s.jsxs)("li",{className:r().cart__item,children:[(0,s.jsxs)("div",{className:r().cart__item_info,children:[(0,s.jsx)("h4",{className:r().cart__item_name,children:e.name}),(0,s.jsxs)("p",{className:r().cart__item_price,children:[e.price," ₽"]})]}),(0,s.jsxs)("div",{className:r().cart__item_actions,children:[(0,s.jsxs)("div",{className:r().cart__item_quantity,children:[(0,s.jsx)("button",{onClick:()=>u(e.id,e.quantity-1),disabled:e.quantity<=1,className:r().cart__item_button,"aria-label":"Уменьшить количество",children:"-"}),(0,s.jsx)("span",{children:e.quantity}),(0,s.jsx)("button",{onClick:()=>u(e.id,e.quantity+1),className:r().cart__item_button,"aria-label":"Увеличить количество",children:"+"})]}),(0,s.jsx)("button",{className:r().cart__item_remove,onClick:()=>_(e.id),"aria-label":"Удалить товар",children:(0,s.jsx)(c.qbC,{size:14})})]})]},e.id))}),(0,s.jsxs)("div",{className:r().cart__footer,children:[(0,s.jsxs)("div",{className:r().cart__total,children:[(0,s.jsx)("span",{children:"Итого:"}),(0,s.jsxs)("span",{children:[n," ₽"]})]}),(0,s.jsxs)("button",{className:r().cart__checkout,onClick:h,children:["Оформить заказ ",(0,s.jsx)(c.Z0P,{size:14})]})]})]}):(0,s.jsxs)("div",{className:r().cart__empty,children:[(0,s.jsx)("p",{children:"Ваша корзина пуста"}),(0,s.jsx)("p",{className:r().cart__empty_message,children:"Выберите сыр, чтобы добавить его в корзину"})]})})]})}):null}},3887:(e,t,a)=>{"use strict";a.d(t,{default:()=>_});var s=a(5155),i=a(2115),c=a(1978),l=a(4168),n=a.n(l),r=a(9911),o=a(8999),d=a(8088),m=a(8758),h=a.n(m);let u=()=>{let{openCart:e,totalItems:t}=(0,d._)();return(0,s.jsxs)("button",{className:h().cartButton,onClick:t=>{t.preventDefault(),t.stopPropagation(),e()},"aria-label":"Открыть корзину",type:"button",children:[(0,s.jsx)(r.AsH,{size:20}),t>0&&(0,s.jsx)("span",{className:h().cartButton__count,children:t})]})},_=()=>{let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[d,m]=(0,i.useState)("home");(0,o.usePathname)(),(0,o.useRouter)(),(0,i.useEffect)(()=>{t(window.scrollY>50);let e=()=>{let e=document.querySelectorAll("section[id]"),t="home";e.forEach(e=>{let a=e.getBoundingClientRect().top,s=e.getAttribute("id");a<=100&&s&&(t=s)}),m(t),"home"!==t&&window.location.hash!=="#".concat(t)?window.history.replaceState(null,"","#".concat(t)):"home"===t&&""!==window.location.hash&&window.history.replaceState(null,"",window.location.pathname)};e();let a=()=>{t(window.scrollY>50),e()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),(0,i.useEffect)(()=>{{let e=window.location.hash.replace("#","");if(e){let t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth"}),m(e))}}},[]);let h=(e,t)=>{e.preventDefault();let s=t.replace("#","");if("home"===s||""===s)window.history.pushState(null,"",window.location.pathname),window.scrollTo({top:0,behavior:"smooth"}),m("home");else{let e=document.getElementById(s);e&&(window.history.pushState(null,"","#".concat(s)),e.scrollIntoView({behavior:"smooth"}),m(s))}a&&l(!1)},_=()=>{l(!a)},p=e=>d===e,x=[{href:"#home",id:"home",label:"Главная"},{href:"#about",id:"about",label:"О нас"},{href:"#products",id:"products",label:"Наши сыры"},{href:"#process",id:"process",label:"Процесс"},{href:"#contact",id:"contact",label:"Контакты"}];return(0,s.jsxs)("header",{className:"".concat(n().header," ").concat(e?n()["header--scrolled"]:""),children:[(0,s.jsxs)("div",{className:"container ".concat(n().header__container),children:[(0,s.jsxs)("a",{href:"#home",className:n().header__logo,onClick:e=>h(e,"#home"),children:[(0,s.jsx)(c.P.div,{className:n()["header__logo-image"],initial:{rotate:0},animate:{rotate:360*!!e},transition:{duration:.5},children:(0,s.jsx)(r.DFm,{size:32,color:"#F5CB5C"})}),(0,s.jsx)("span",{className:n()["header__logo-text"],children:"СырАрт"})]}),(0,s.jsx)("nav",{className:n().header__nav,children:x.map(e=>(0,s.jsx)("a",{href:e.href,className:"".concat(n().header__link," ").concat(p(e.id)?n()["header__link--active"]:""),onClick:t=>h(t,e.href),children:e.label},e.id))}),(0,s.jsxs)("div",{className:n().header__actions,children:[(0,s.jsx)("div",{className:n().header__cart,children:(0,s.jsx)(u,{})}),(0,s.jsx)("a",{href:"#contact",className:"".concat(n().header__cta," ").concat(n().header__cta_desktop),onClick:e=>h(e,"#contact"),children:"Заказать сейчас"}),(0,s.jsx)("button",{className:n().header__mobile_button,onClick:_,"aria-label":"Открыть мобильное меню",children:(0,s.jsx)(r.OXb,{size:24})})]})]}),(0,s.jsxs)("div",{className:"".concat(n()["mobile-menu"]," ").concat(a?n()["mobile-menu--open"]:""),children:[(0,s.jsx)("button",{className:n()["mobile-menu__close"],onClick:_,"aria-label":"Закрыть мобильное меню",children:(0,s.jsx)(r.QCr,{size:24})}),(0,s.jsx)("nav",{className:n()["mobile-menu__nav"],children:x.map(e=>(0,s.jsx)("a",{href:e.href,className:"".concat(n()["mobile-menu__link"]," ").concat(p(e.id)?n()["mobile-menu__link--active"]:""),onClick:t=>h(t,e.href),children:e.label},e.id))}),(0,s.jsx)("div",{className:n()["mobile-menu__cart"],children:(0,s.jsx)(u,{})})]})]})}},4128:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(5155),i=a(2115),c=a(1978),l=a(760),n=a(9911),r=a(8088),o=a(9175),d=a(458),m=a.n(d);let h="/template1",u={step:1,formData:{name:"",email:"",phone:"",address:"",city:"",zipCode:"",paymentMethod:""},isCompleted:!1},_=(e,t)=>{switch(t.type){case"NEXT_STEP":return{...e,step:e.step+1};case"PREV_STEP":return{...e,step:Math.max(1,e.step-1)};case"SET_STEP":return{...e,step:t.step};case"UPDATE_FIELD":return{...e,formData:{...e.formData,[t.field]:t.value}};case"COMPLETE_ORDER":return{...e,isCompleted:!0};case"RESET":return u;default:return e}},p={enter:e=>({x:e>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?"100%":"-100%",opacity:0})},x=()=>{let{isCheckoutOpen:e,closeCheckout:t,cartItems:a,totalPrice:d,clearCart:x}=(0,r._)(),[j,v]=(0,i.useReducer)(_,u),[y,f]=(0,i.useState)(0),[N,k]=(0,i.useState)(!1),[b,C]=(0,i.useState)(null);(0,i.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&t()};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[e,t]),(0,i.useEffect)(()=>{e||(v({type:"RESET"}),k(!1))},[e]),(0,i.useEffect)(()=>{e&&(async()=>{try{let e=await fetch("".concat(h,"/images/cheeseform.lottie"));if(!e.ok)throw Error("Failed to load animation");let t=await e.arrayBuffer();C(t)}catch(e){console.error("Error preloading Lottie animation:",e)}})()},[e]);let w=()=>{let{formData:e,step:t}=j;return 1===t?""!==e.name.trim()&&""!==e.email.trim()&&""!==e.phone.trim():2!==t||""!==e.address.trim()&&""!==e.paymentMethod},E=e=>{let{name:t,value:a}=e.target;v({type:"UPDATE_FIELD",field:t,value:a})},g=()=>{v({type:"COMPLETE_ORDER"}),x(),setTimeout(()=>{t()},5e3)};return e?(0,s.jsx)("div",{className:m().checkout__overlay,onClick:t,children:(0,s.jsxs)(c.P.div,{className:m().checkout__modal,onClick:e=>e.stopPropagation(),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:[(0,s.jsxs)("div",{className:m().checkout__header,children:[(0,s.jsx)("h3",{className:m().checkout__title,children:j.isCompleted?"Заказ оформлен":"Оформление заказа"}),!j.isCompleted&&(0,s.jsxs)("div",{className:m().checkout__steps,children:[(0,s.jsx)("div",{className:"".concat(m().checkout__step," ").concat(m().active),children:"1"}),(0,s.jsx)("div",{className:m().checkout__step_line}),(0,s.jsx)("div",{className:"".concat(m().checkout__step," ").concat(j.step>=2?m().active:""),children:"2"})]}),(0,s.jsx)("button",{className:m().checkout__close,onClick:t,"aria-label":"Закрыть оформление заказа",children:(0,s.jsx)(n.QCr,{size:18})})]}),(0,s.jsx)("div",{className:m().checkout__content,children:j.isCompleted?(0,s.jsxs)(c.P.div,{className:m().checkout__success,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,s.jsx)(c.P.div,{className:m().checkout__success_icon,initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:(0,s.jsx)(n.CMH,{size:40})}),(0,s.jsx)(c.P.div,{className:m().checkout__animation,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.4},children:(0,s.jsx)(o.GL,{src:"".concat(h,"/images/cheeseform.lottie"),autoplay:!0,loop:!0,onLoad:()=>{k(!0)}})}),(0,s.jsx)(c.P.h4,{className:m().checkout__success_title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Спасибо за заказ!"}),(0,s.jsx)(c.P.p,{className:m().checkout__success_message,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:"Мы свяжемся с вами в ближайшее время для подтверждения."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.N,{initial:!1,mode:"wait",custom:y,children:[1===j.step&&(0,s.jsxs)(c.P.div,{className:m().checkout__form,custom:y,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",duration:.3},children:[(0,s.jsx)("h4",{className:m().checkout__step_title,children:"Контактная информация"}),(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"name",className:m().checkout__form_label,children:"Имя*"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:j.formData.name,onChange:E,className:m().checkout__form_input,required:!0,placeholder:"Ваше имя"})]}),(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"email",className:m().checkout__form_label,children:"Email*"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:j.formData.email,onChange:E,className:m().checkout__form_input,required:!0,placeholder:"Ваш email"})]}),(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"phone",className:m().checkout__form_label,children:"Телефон*"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:j.formData.phone,onChange:E,className:m().checkout__form_input,required:!0,placeholder:"+7 (___) ___-__-__"})]})]},"step1"),2===j.step&&(0,s.jsxs)(c.P.div,{className:m().checkout__form,custom:y,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",duration:.3},children:[(0,s.jsx)("h4",{className:m().checkout__step_title,children:"Адрес доставки"}),(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"address",className:m().checkout__form_label,children:"Адрес*"}),(0,s.jsx)("input",{type:"text",id:"address",name:"address",value:j.formData.address,onChange:E,className:m().checkout__form_input,required:!0,placeholder:"Адрес доставки"})]}),(0,s.jsxs)("div",{className:m().checkout__form_row,children:[(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"city",className:m().checkout__form_label,children:"Город"}),(0,s.jsx)("input",{type:"text",id:"city",name:"city",value:j.formData.city,onChange:E,className:m().checkout__form_input,placeholder:"Город"})]}),(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"zipCode",className:m().checkout__form_label,children:"Индекс"}),(0,s.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:j.formData.zipCode,onChange:E,className:m().checkout__form_input,placeholder:"Почтовый индекс"})]})]}),(0,s.jsxs)("div",{className:m().checkout__form_group,children:[(0,s.jsx)("label",{htmlFor:"paymentMethod",className:m().checkout__form_label,children:"Способ оплаты*"}),(0,s.jsxs)("select",{id:"paymentMethod",name:"paymentMethod",value:j.formData.paymentMethod,onChange:E,className:m().checkout__form_select,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Выберите способ оплаты"}),(0,s.jsx)("option",{value:"card",children:"Банковская карта"}),(0,s.jsx)("option",{value:"cash",children:"Наличные при получении"})]})]}),(0,s.jsxs)("div",{className:m().checkout__summary,children:[(0,s.jsx)("h4",{className:m().checkout__summary_title,children:"Ваш заказ"}),(0,s.jsx)("div",{className:m().checkout__summary_items,children:a.map(e=>(0,s.jsxs)("div",{className:m().checkout__summary_item,children:[(0,s.jsxs)("span",{children:[e.name," x",e.quantity]}),(0,s.jsxs)("span",{children:[e.price*e.quantity," ₽"]})]},e.id))}),(0,s.jsxs)("div",{className:m().checkout__summary_total,children:[(0,s.jsx)("span",{children:"Итого:"}),(0,s.jsxs)("span",{children:[d," ₽"]})]})]})]},"step2")]}),(0,s.jsxs)("div",{className:m().checkout__actions,children:[j.step>1&&(0,s.jsxs)(c.P.button,{className:m().checkout__button_secondary,onClick:()=>{f(-1),v({type:"PREV_STEP"})},whileTap:{scale:.95},children:[(0,s.jsx)(n.QVr,{size:14}),"Назад"]}),(0,s.jsx)(c.P.button,{className:m().checkout__button_primary,onClick:()=>{w()&&(2===j.step?g():(f(1),v({type:"NEXT_STEP"})))},disabled:!w(),whileTap:{scale:.95},children:2===j.step?"Оформить заказ":"Продолжить"})]})]})})]})}):null}},5285:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.t.bind(a,2305,23)),Promise.resolve().then(a.t.bind(a,5966,23)),Promise.resolve().then(a.t.bind(a,2747,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,3887)),Promise.resolve().then(a.bind(a,1128)),Promise.resolve().then(a.bind(a,4128)),Promise.resolve().then(a.bind(a,6961)),Promise.resolve().then(a.bind(a,778)),Promise.resolve().then(a.bind(a,8088))},6961:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var s=a(5155),i=a(778),c=a(2115),l=a(760),n=a(1978),r=a(3076),o=a.n(r);let d=e=>{let{isLoading:t}=e,[a,i]=(0,c.useState)(t);return(0,c.useEffect)(()=>{if(t)i(!0);else{let e=setTimeout(()=>{i(!1)},500);return()=>clearTimeout(e)}},[t]),(0,s.jsx)(l.N,{children:a&&(0,s.jsx)(n.P.div,{className:o().loader,initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:(0,s.jsxs)(n.P.div,{className:o().loader__container,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[(0,s.jsx)("div",{className:o().loader__circle}),(0,s.jsx)("div",{className:o().loader__ring1}),(0,s.jsx)("div",{className:o().loader__ring2}),(0,s.jsx)("div",{className:o().loader__ring3}),(0,s.jsx)("div",{className:o().loader__ring4}),(0,s.jsx)(n.P.p,{className:o().loader__text,animate:{opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:"Загрузка..."})]})})})};function m(){let{loaderHidden:e}=(0,i.s)();return(0,s.jsx)(d,{isLoading:!e})}},8088:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>n,_:()=>l});var s=a(5155),i=a(2115);let c=(0,i.createContext)({cartItems:[],isCartOpen:!1,isCheckoutOpen:!1,openCart:()=>{},closeCart:()=>{},openCheckout:()=>{},closeCheckout:()=>{},addToCart:()=>{},removeFromCart:()=>{},updateQuantity:()=>{},clearCart:()=>{},totalItems:0,totalPrice:0}),l=()=>(0,i.useContext)(c),n=e=>{let{children:t}=e,[a,l]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,d]=(0,i.useState)(!1);(0,i.useEffect)(()=>{{let e=localStorage.getItem("cart");if(e)try{l(JSON.parse(e))}catch(e){console.error("Ошибка при загрузке корзины из localStorage:",e)}}},[]),(0,i.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(a))},[a]),(0,i.useEffect)(()=>{let e=e=>{e instanceof CustomEvent&&(p(e.detail),m())};return document.addEventListener("add-to-cart",e),()=>{document.removeEventListener("add-to-cart",e)}},[]);let m=(0,i.useCallback)(()=>{r(!0),d(!1),"undefined"!=typeof document&&(document.body.style.overflow="hidden")},[]),h=(0,i.useCallback)(()=>{r(!1),"undefined"!=typeof document&&(document.body.style.overflow="")},[]),u=(0,i.useCallback)(()=>{d(!0),r(!1),"undefined"!=typeof document&&(document.body.style.overflow="hidden")},[]),_=(0,i.useCallback)(()=>{d(!1),"undefined"!=typeof document&&(document.body.style.overflow="")},[]),p=(0,i.useCallback)(e=>{l(t=>{let a=t.findIndex(t=>t.id===e.id);if(!(a>=0))return[...t,{...e,quantity:e.quantity||1}];{let s=[...t];return s[a]={...s[a],quantity:s[a].quantity+(e.quantity||1)},s}})},[]),x=(0,i.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[]),j=(0,i.useCallback)((e,t)=>{if(t<=0)return void x(e);l(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},[x]),v=(0,i.useCallback)(()=>{l([]),localStorage.removeItem("cart")},[]),y=a.reduce((e,t)=>e+t.quantity,0),f=a.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.jsx)(c.Provider,{value:{cartItems:a,isCartOpen:n,isCheckoutOpen:o,openCart:m,closeCart:h,openCheckout:u,closeCheckout:_,addToCart:p,removeFromCart:x,updateQuantity:j,clearCart:v,totalItems:y,totalPrice:f},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[869,429,711,59,433,441,684,358],()=>t(5285)),_N_E=e.O()}]);